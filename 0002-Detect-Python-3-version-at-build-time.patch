From 6e817473658510d6c734f9c75a2718e27863a138 Mon Sep 17 00:00:00 2001
From: Scott K Logan <logans@cottsay.net>
Date: Thu, 12 Dec 2024 14:29:24 -0600
Subject: [PATCH 2/2] Detect Python 3 version at build time

Co-authored-by: Jose Luis Rivero <jrivero@osrfoundation.org>
---
 debian/rules.em | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/debian/rules.em b/debian/rules.em
index e5ef76418196..9941d9818371 100755
--- a/debian/rules.em
+++ b/debian/rules.em
@@ -27,7 +27,8 @@ export DEB_HOST_MULTIARCH := $(shell dpkg-architecture -qDEB_HOST_MULTIARCH)
 DEB_HOST_GNU_TYPE ?= $(shell dpkg-architecture -qDEB_HOST_GNU_TYPE)
 
 # Needed to bootstrap since the ros_workspace package does not yet exist.
-export PYTHONPATH=@(InstallationPrefix)/lib/python3.12/site-packages
+PYTHON3_VERSION=$(shell py3versions -d)
+export PYTHONPATH=@(InstallationPrefix)/lib/$(PYTHON3_VERSION)/site-packages
 
 %:
 	dh $@@ -v --buildsystem=cmake --builddirectory=.obj-$(DEB_HOST_GNU_TYPE)
-- 
2.49.0

